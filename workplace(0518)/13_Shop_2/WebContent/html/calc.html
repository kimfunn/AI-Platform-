<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
<script type="text/javascript">
	$(document).ready(function(){
		$('#calcBtn').click(function(){
			
			const won=$('#won').val();
			const operator=($('#operator').val());
			//console.log(opener.document.getElementById("welcomeMsg"));
			
			//회원가입 요청
			//AJAX 기술 활용 https://www.w3schools.com/js/js_ajax_intro.asp
			// JQuery-AJAX https://www.w3schools.com/jquery/jquery_ajax_intro.asp
			/* 
			$.get('../Main?name='+name+"&id="+id+"&pw="+pw,function(data, status){
				alert("Data: " + data + "\nStatus: " + status);
				window.close();
			}); */

					$.post("../main",
					  {
						sign :"calc",
					    won,
					    operator
					  	 //비구조화 할당
					  },
					  function(data, status){
							$("#resultDiv").text(data);
						
						  
						 // window.close();
				 		   });  //end post
			
			
			
			//opener.document.getElementById("welcomeMsg").textContent=name+"님 환영합니다";
		
		}); //end calcBtn
		
		$("#closeBtn").click(function(){
			window.close();
		});
	});

</script>
</head>
<body>  <!--  input 태그에서 id를 주면 같은 거 주지 못함 따라서 체크박스는 name으로 줘야함 -->
	환율계산기<br>
	원화: <input id="won">
	<select id="operator">
		<option value = "dollar"> 달러 </option>
		<option value = "en"> 엔화 </option>
		<option value = "wian"> 위안 </option>
		<option value = "pound"> 파운드 </option>
		<option value = "euro"> 유로 </option>
	
	</select>
	<button id="calcBtn">변환</button>
	<br>
	<h1>result : <span id="resultDiv"></span></h1>
	
	<br>
	<button id="closeBtn">창 닫기</button>
</body>
</html>