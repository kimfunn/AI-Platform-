<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
<script type="text/javascript">
	$(document).ready(function(){
		$('button').click(function(){
			
			const subject=$('input:checkbox[name=subject]:checked'); // input:checkbox[조건][name=subject]:checked => 체크된 것
			//js 로
			const subject_value=[] //{} 객체 []: 베열
			for (let i=0; i<subject.length; i++){
				subject_value.push(subject[i].value);
					
				
			}
			console.log(subject_value);
			
			//console.log(opener.document.getElementById("welcomeMsg"));
			
			//회원가입 요청
			//AJAX 기술 활용 https://www.w3schools.com/js/js_ajax_intro.asp
			// JQuery-AJAX https://www.w3schools.com/jquery/jquery_ajax_intro.asp
			/* 
			$.get('../Main?name='+name+"&id="+id+"&pw="+pw,function(data, status){
				alert("Data: " + data + "\nStatus: " + status);
				window.close();
			}); */

			$.post("../main",
					  {
						sign :"subject",
					    subject_value
					  	 //비구조화 할당
					  },
					  function(data, status){
						  console.log(data);
						 /*  if(data.includes("login")){
							  //fail //name에 login 이 없다고 생각
							  alert(data);
						  }else{//ok
							  opener.document.getElementById("welcomeMsg").textContent=data+"님 환영합니다";
					 		  window.close();
						   
						  } */
				 		   });
			
			
			
			//opener.document.getElementById("welcomeMsg").textContent=name+"님 환영합니다";
		
		});
	});

</script>
</head>
<body>  <!--  input 태그에서 id를 주면 같은 거 주지 못함 따라서 체크박스는 name으로 줘야함 -->
	당신이 아는 랭귀지는?<br>
	
	자바 <input name='subject' type="checkbox" value ="java"><br>
	C <input name='subject' type="checkbox" value ="C"><br>
	python <input name='subject' type="checkbox" value ="python"><br>
	Android <input name='subject' type="checkbox" value ="Android"><br>
	<button>전송</button>
</body>
</html>